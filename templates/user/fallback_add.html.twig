{% extends 'single_column.html.twig' %}

{% block before_title %}
  {% import '_macro/_action_buttons.html.twig' as buttons %}
  {{ buttons.header() }}
  {{ buttons.list_button(path('app_user_fallbacklist')) }}
  {{ buttons.footer() }}
{% endblock %}

{% block title %}
  {{ 'user.fallback.add-title'|trans }}
{% endblock %}

{% block content %}
  {{ form(form) }}
{% endblock %}

{% block javascripts_bottom %}
  {{ parent() }}
  <script type="text/javascript">
    var $firstName = $('#add_fallback_user_givenName');
    var $familyName = $('#add_fallback_user_familyName');
    var $fullName = $('#add_fallback_user_fullName');

    $familyName.on('change', function () {
      if ($fullName.val() === '' && $firstName.val() !== '') {
        $fullName.val($firstName.val() + ' ' + $familyName.val());
      }
    });
  </script>
{% endblock %}
